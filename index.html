<!DOCTYPE html>
<html>
<head>
    <title>Appointment App</title>
</head>
<body>
    <h1>Appointment App</h1>

    <form id="appointmentForm">
        <label for="name">Name:</label>
        <input type="text" id="name" required><br>

        <label for="email">Email ID:</label>
        <input type="email" id="email" required><br>

        <label for="phone">Phone Number:</label>
        <input type="tel" id="phone" required><br>

        <button type="submit">Submit</button>
    </form>

    <div id="appointmentList"></div>

    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>
        // Display existing appointments on page load
        displayAppointments();

        // Handle form submission
        document.getElementById('appointmentForm').addEventListener('submit', function (event) {
            event.preventDefault();

            // Get form values
            var name = document.getElementById('name').value;
            var email = document.getElementById('email').value;
            var phone = document.getElementById('phone').value;

            // Create appointment object
            var appointment = {
                name: name,
                email: email,
                phone: phone
            };

            // Send appointment data to the server
            axios.post("https://crudcrud.com/api/accc047a07dd4166ab525c3c0f7bdd42/appointmentData", appointment)
                .then((response) => {
                    console.log(response.data);
                    displayAppointments(); // Refresh the displayed appointments
                })
                .catch((error) => {
                    console.error(error);
                });

            // Clear form inputs
            document.getElementById('name').value = '';
            document.getElementById('email').value = '';
            document.getElementById('phone').value = '';
        });

        // Display appointments on the webpage
        function displayAppointments() {
            // Retrieve appointments from the server
            axios.get("https://crudcrud.com/api/accc047a07dd4166ab525c3c0f7bdd42/appointmentData")
                .then((response) => {
                    var appointments = response.data;

                    var appointmentList = document.getElementById('appointmentList');
                    appointmentList.innerHTML = '';

                    for (var i = 0; i < appointments.length; i++) {
                        var appointment = appointments[i];

                        var appointmentItem = document.createElement('div');
                        appointmentItem.innerHTML = `
                            <h3>${appointment.name}</h3>
                            <p>Email: ${appointment.email}</p>
                            <p>Phone: ${appointment.phone}</p>
                            <button onclick="editAppointment(${i})">Edit</button>
                            <button onclick="deleteAppointment(${i})">Delete</button>
                            <hr>
                        `;

                        appointmentList.appendChild(appointmentItem);
                    }
                })
                .catch((error) => {
                    console.error(error);
                });
        }

        // Edit appointment
        function editAppointment(index) {
            // Implement your logic for editing appointments here
        }

        // Delete appointment
        function deleteAppointment(index) {
            // Implement your logic for deleting appointments here
        }
    </script>
</body>
</html>
